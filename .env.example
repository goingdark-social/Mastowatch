# ----- Mastodon -----
INSTANCE_BASE=https://your.instance
# Create applications in Settings â†’ Development in your Mastodon instance:
# Admin app with admin:read + admin:write scopes:
ADMIN_TOKEN=REPLACE_WITH_ADMIN_ACCESS_TOKEN
# Bot app with read + write:reports scopes:
BOT_TOKEN=REPLACE_WITH_BOT_ACCESS_TOKEN

# ----- DB / Redis -----
DATABASE_URL=postgresql+psycopg://postgres:postgres@db:5432/mastowatch
REDIS_URL=redis://redis:6379/0

# ----- Runtime -----
DRY_RUN=true
MAX_PAGES_PER_POLL=3
MAX_STATUSES_TO_FETCH=100
BATCH_SIZE=20
USER_AGENT=MastoWatch/1.0 (+moderation-sidecar)
POLICY_VERSION=v1
REPORT_CATEGORY_DEFAULT=spam         # spam | violation | legal | other
FORWARD_REMOTE_REPORTS=false
PANIC_STOP=false

# ----- API / Webhooks / CORS -----
API_KEY=REPLACE_ME
WEBHOOK_SECRET=REPLACE_ME
WEBHOOK_SIG_HEADER=X-Hub-Signature-256
CORS_ORIGINS=["http://localhost:5173"]

# ----- OAuth Admin Login -----
OAUTH_CLIENT_ID=REPLACE_WITH_OAUTH_CLIENT_ID
OAUTH_CLIENT_SECRET=REPLACE_WITH_OAUTH_CLIENT_SECRET
OAUTH_REDIRECT_URI=https://your.instance/admin/callback
SESSION_SECRET_KEY=REPLACE_WITH_RANDOM_SECRET_KEY
SESSION_COOKIE_NAME=mastowatch_session
SESSION_COOKIE_MAX_AGE=86400

# ----- Frontend -----
UI_ORIGIN=http://localhost:5173
VITE_API_URL=http://localhost:8080

# ----- Version & Scheduling -----
MIN_MASTODON_VERSION=4.0.0
POLL_ADMIN_ACCOUNTS_INTERVAL=30
POLL_ADMIN_ACCOUNTS_LOCAL_INTERVAL=30
QUEUE_STATS_INTERVAL=15

