{
    // Use the workspace virtualenv Python interpreter so the extension runs tests with the same env
    "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
    "python.testing.pytestEnabled": true,
    "python.testing.pytestArgs": [
        "../tests"
    ],
    // Ensure VS Code discovers tests automatically when files change or on open
    "python.testing.autoTestDiscoverOnSaveEnabled": true,
    // Explicit pytest executable path (use workspace venv)
    "python.testing.pytestPath": "${workspaceFolder}/.venv/bin/pytest",
    // Don't prompt to configure testing - we've configured it in workspace settings
    "python.testing.promptToConfigure": false,
    "python.testing.unittestEnabled": false,
    "python.testing.nosetestsEnabled": false,
    "python.envFile": "${workspaceFolder}/.env",
    // Run tests from the backend directory so package imports like `app` resolve
    "python.testing.cwd": "${workspaceFolder}/backend",
    // Add backend to analysis paths so the extension and test runner resolve `app` without PYTHONPATH env var
    "python.analysis.extraPaths": [
        "${workspaceFolder}/backend"
    ],
    "editor.formatOnSave": true
}